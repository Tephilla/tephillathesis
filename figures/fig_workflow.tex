\tikzset{
	%Define standard arrow tip
	>=stealth',
	%Define style for boxes
	punkt/.style={
		rectangle,
		rounded corners,
		draw=black, very thick,
		text width=8.5em,
		minimum height=2em,
		text centered},
	% Define arrow style
	pil/.style={
		->,
		thick,
		shorten <=2pt,
		shorten >=2pt,}
}
\tikzstyle{aldecision} = [diamond, draw, fill=blue!20,
text width=4.5em, text badly centered, node distance=2.5cm, inner sep=0pt]
\tikzstyle{alblock} = [rectangle, draw, fill=blue!20,
text width=5em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, very thick, color=black!50, -latex']
\tikzstyle{allibrary} = [draw, ellipse,fill=red!20, node distance=2.5cm,
minimum height=2em]		
\begin{tikzpicture}[node distance = 5em, auto]
\node [allibrary, below of=decide0, node distance=12em,fill=green!20] (nocounterex0) {A};
\node [alblock,text width=12em,below of=nocounterex0] (k1) {If  $k <$ bound \\Assign $k=1$\\Else EXIT};
\node [allibrary, right of=k1,xshift=6em] (Z3k0) {Z3};
\node [aldecision,below of=k1,text width=10em, node distance=12em] (decidek) {At $k=1$,\\$\lambda = 0,\kappa = 1 $\\ Is $[\mathcal{M},\psi]_{(0,1)}$ SAT?};
\node [left of=decidek,xshift=-8em,text width = 8em,fill=green!20] (sat10) {Counter example found at $k=1$ $\lambda = 0,~\kappa = 1$. EXIT};

\path [line] (nocounterex0) -- (k1);
\path [line] (k1) -- (decidek);
\path [line,dashed] (Z3k0) |- (decidek);
\path [line,dashed] (decidek) -| (Z3k0);
		
\path [line] (decidek) -- (sat10);
\path [line] (decidek) -- node [near start, color=black] {Yes} (sat10);
		

\node [aldecision,below of=decidek,text width=10em, node distance=18em] (decidek0l1) {At $k=1$,\\$\lambda = 1,\kappa = 0 $\\ Is $[\mathcal{M},\psi]_{(1,0)}$ SAT?};
\path [line] (decidek) -- node [left,near start, color=black,text width=14em] {No. For $k=1$, explore other $\lambda,\kappa$ values.} (decidek0l1);
\path [line,dashed] (Z3k0) |- (decidek0l1);
\path [line,dashed] (decidek0l1) -| (Z3k0);
		
\node [left of=decidek0l1,xshift=-8em,text width = 8em,fill=green!20] (satk0l1) {Counter example found at $k=1$ $\lambda = 1, \kappa = 0$. EXIT};
		
\path [line] (decidek0l1) -- (satk0l1);
\path [line] (decidek0l1) -- node [near start, color=black] {Yes} (satk0l1);

\node [alblock, below of =decidek0l1, text width=8em, yshift=-6em,node distance = 8em] (k2) {If  $k <$ bound\\Assign $k=2$\\And Continue\\Else EXIT};
\path [line] (decidek0l1) -- node [left,near start, color=black,text width=2em] {No} (k2);
\node [allibrary, right of=k2, node distance=10em,fill=green!20] (B) {B};	
\path [line] (k2) -- (B);
\end{tikzpicture}
