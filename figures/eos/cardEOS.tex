\begin{figure}[ht]
    \centering
    % \resizebox{.79\columnwidth}{!}{
    \begin{tikzpicture}[scale=0.45]
                \tikzset{
    %Define standard arrow tip
    >=stealth',
    %Define style for boxes
    punkt/.style={
        rectangle,
        rounded corners,
        draw=black, very thick,
        text width=8.5em,
        minimum height=2em,
        text centered},
    % Define arrow style
    pil/.style={
        ->,
        thick,
        shorten <=2pt,
        shorten >=2pt,}
}
\tikzstyle{aldecision} = [diamond, draw, fill=blue!20,
text width=4.5em, text badly centered, node distance=2.5cm, inner sep=0pt]
\tikzstyle{alblock} = [rectangle, draw, fill=blue!20,
text width=5em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, very thick, color=black!50, -latex']
\tikzstyle{allibrary} = [draw, ellipse,fill=red!20, node distance=2.5cm,
minimum height=2em]

\node[place,label=above:{\small $b_E$},draw=red!50,inner
sep=0pt,minimum height=.40cm, minimum width=.5cm, tokens=1] (bE) at (-4,0){$\bullet$} ;

\node[transition,fill=black,minimum height=.4cm,minimum width=.4cm,label=above:{\tiny{b}}] (b0) at (0,1) {};

\node[transition,fill=black,minimum height=.4cm,minimum width=.4cm,label=above:\tiny{{b}}] (b1) at (0,-1) {};

\node[place,label=above:{\small $b_O$},draw=red!50,inner
sep=0pt,minimum height=.40cm, minimum width=.5cm] (bO) at (4,0){} ;

%Row 2

\node[place,label=below:{\small $a_E$},draw=blue!50,inner
sep=0pt,minimum height=.40cm, minimum width=.5cm, tokens=1] (aE) at (-4,-6){} ;

\node[transition,fill=black,minimum height=.4cm,minimum width=.4cm,label=above:{\tiny{a}}] (a0) at (0,-5) {};

\node[transition,fill=black,minimum height=.4cm,minimum width=.4cm,label=above:{\tiny{a}}] (a1) at (0,-7) {};

\node[place,label=below:{\small $a_O$},draw=blue!50,inner
sep=0pt,minimum height=.40cm, minimum width=.5cm] (aO) at (4,-6){} ;

\node[draw=black,fit={(aE)(a0)(a1)(aO)}](objNet){};

\draw[->] (bE) -- (b0);
\draw[->] (b0)-- (bO);
\draw[->] (aEbO) -- (b1);
\draw[->] (b1)-- (bE);


\draw[->] (aE) -- (a0);
\draw[->] (a0)-- (aO);
\draw[->] (aO) -- (a1);
\draw[->] (a1)-- (aE);

\draw[dashed] (bE) -- (objNet.west);

\end{tikzpicture}
% }
    \caption{EOS counting the parity of $a$ and $b$ in a word}
    \label{fig:cardeos}
\end{figure}