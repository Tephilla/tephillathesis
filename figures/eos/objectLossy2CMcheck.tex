
\begin{figure}[ht]
    \centering
    \begin{tikzpicture}
    \begin{scope}[rotate=90,xscale=-1]
        \node[place,label=below:$c_j$] (cj)at (2,1.5){};
        \node[place,label=right:$\mathit{next}_i$] (next)at (1,0){$0$};
        \node[transhor,label=above:$t_i^1$] (t1)at (0,0){};
        \node[transhor,label=below:$t_i^2$](t2)at (2,0){};
        \node[place,label=above:$q$](q)at (0,-1.5){$1$};
        \node[place,label=below:$q'$](q')at (2,-1.5){$0$};
        \node[place,label=above:$g$](g)at (0,1.5){};
    \end{scope}


        \begin{scope}[xshift=-6cm,yshift=-2cm]
        \node[transvert,label={[name=incNlab]left:$\mathit{inc}_N$}](incN)at (0,0){};
        \node[place,label={[name=pLab]above:$p$}](p)at(1,0){$n$};
        \node[transvert,label={[name=decNlab]right:$\mathit{dec}_N$}](decN)at (2,0){};
        \draw[->](incN)--(p);
        \draw[<-](decN)--(p);
        \node[draw=black,fit={(incNlab)(incN)(pLab)(p)(decNlab)(decN)}](obj){};
        \end{scope}

        \begin{scope}[xshift=-6cm,yshift=0cm]
        \node[transvert,label={[name=incNlabg]left:$\mathit{inc}_N$}](incNg)at (0,0){};
        \node[place,label={[name=pLabg]above:$p$}](pg)at(1,0){$0$};
        \node[transvert,label={[name=decNlabg]right:$\mathit{dec}_N$}](decNg)at (2,0){};
        \draw[->](incNg)--(pg);
        \draw[<-](decNg)--(pg);
        \node[draw=black,fit={(incNlabg)(incNg)(pLabg)(pg)(decNlabg)(decNg)}](objg){};
        \end{scope}


        \draw[dashed] (obj) -- (cj.center);
        \draw[dashed] (objg) -- (g.center);
        \draw[->] (cj)--(t1);
        \draw[<->] (t1)--(g);
        \draw[->] (q)--(t1);
        \draw[->] (t1)--(next);
        \draw[->] (next)--(t2);
        \draw[->] (t2)--(cj);
        \draw[->] (t2)--(q');
        
    \end{tikzpicture}
    \caption{Part of $\E$ capturing a zero-check instruction $i=\tup{q,=,j,q'}$ on the counter $j$.}
    \label{fig:objectLossy2CMcheck}
\end{figure}