\begin{tikzpicture}[shorten >=1pt,node distance=2cm,on grid,auto]
            \node[state,initial] (q_0)   {$q_0$};
            \node[state,accepting] (q_1) [above right=of q_0] {$q_1$};
            \node[state] (q_4) [right=of q_1] {$q_4$};
            \node[state] (q_2) [below right=of q_0] {$q_2$};
            \node[state,accepting](q_3) [right=of q_2] {$q_3$};
            \path[->]
            (q_0) edge  node {a} (q_1)
            edge  node [swap] {a} (q_2)
            edge [loop above] node {a,b} ()
            (q_1) edge [loop above] node {a} ()
            edge  node  {b} (q_4)
            (q_2)  edge  node [swap] {a} (q_3)
            (q_3)  edge node {b} (q_4)
            edge[above, bend left=10] node {b} (q_2)
            (q_4)   edge [loop above] node {a,b} ();
\end{tikzpicture}